"undefined"==typeof window.Mozilla&&(window.Mozilla={}),function(){"use strict";"undefined"==typeof Mozilla.UITour&&(Mozilla.UITour={});var i=null;function a(){i&&(clearInterval(i),i=null)}function s(e,o){var t=new CustomEvent("mozUITour",{bubbles:!0,detail:{action:e,data:o||{}}});document.dispatchEvent(t)}function f(o){var t=function e(){return Math.random().toString(36).replace(/[^a-z]+/g,"")}();return document.addEventListener("mozUITourResponse",function n(e){"object"==typeof e.detail&&e.detail.callbackID===t&&(document.removeEventListener("mozUITourResponse",n),o(e.detail.data))}),t}Mozilla.UITour.DEFAULT_THEME_CYCLE_DELAY=1e4,Mozilla.UITour.registerPageID=function(e){s("registerPageID",{pageID:e})},Mozilla.UITour.showHighlight=function(e,o){s("showHighlight",{target:e,effect:o})},Mozilla.UITour.hideHighlight=function(){s("hideHighlight")},Mozilla.UITour.showInfo=function(e,o,t,n,i,a){var l,r,u=[];if(Array.isArray(i))for(var c=0;c<i.length;c++)u.push({label:i[c].label,icon:i[c].icon,style:i[c].style,callbackID:f(i[c].callback)});a&&a.closeButtonCallback&&(l=f(a.closeButtonCallback)),a&&a.targetCallback&&(r=f(a.targetCallback)),s("showInfo",{target:e,title:o,text:t,icon:n,buttons:u,closeButtonCallbackID:l,targetCallbackID:r})},Mozilla.UITour.hideInfo=function(){s("hideInfo")},Mozilla.UITour.previewTheme=function(e){a(),s("previewTheme",{theme:JSON.stringify(e)})},Mozilla.UITour.resetTheme=function(){a(),s("resetTheme")},Mozilla.UITour.cycleThemes=function(o,e,t){function n(){var e=o.shift();o.push(e),s("previewTheme",{theme:JSON.stringify(e),state:!0}),t(e)}a(),e=e||Mozilla.UITour.DEFAULT_THEME_CYCLE_DELAY,i=setInterval(n,e),n()},Mozilla.UITour.showMenu=function(e,o){var t;o&&(t=f(o)),s("showMenu",{name:e,showCallbackID:t})},Mozilla.UITour.hideMenu=function(e){s("hideMenu",{name:e})},Mozilla.UITour.showNewTab=function(){s("showNewTab")},Mozilla.UITour.showProtectionReport=function(){s("showProtectionReport")},Mozilla.UITour.getConfiguration=function(e,o){s("getConfiguration",{callbackID:f(o),configuration:e})},Mozilla.UITour.setConfiguration=function(e,o){s("setConfiguration",{configuration:e,value:o})},Mozilla.UITour.showFirefoxAccounts=function(e){s("showFirefoxAccounts",{extraURLCampaignParams:JSON.stringify(e)})},Mozilla.UITour.resetFirefox=function(){s("resetFirefox")},Mozilla.UITour.addNavBarWidget=function(e,o){s("addNavBarWidget",{name:e,callbackID:f(o)})},Mozilla.UITour.setDefaultSearchEngine=function(e){s("setDefaultSearchEngine",{identifier:e})},Mozilla.UITour.setTreatmentTag=function(e,o){s("setTreatmentTag",{name:e,value:o})},Mozilla.UITour.getTreatmentTag=function(e,o){s("getTreatmentTag",{name:e,callbackID:f(o)})},Mozilla.UITour.setSearchTerm=function(e){s("setSearchTerm",{term:e})},Mozilla.UITour.openSearchPanel=function(e){s("openSearchPanel",{callbackID:f(e)})},Mozilla.UITour.ping=function(e){var o={};e&&(o.callbackID=f(e)),s("ping",o)};var t=null;function n(e){"object"==typeof e.detail&&"function"==typeof t&&t(e.detail.event,e.detail.params)}Mozilla.UITour.observe=function(e,o){(t=e)?(document.addEventListener("mozUITourNotification",n),Mozilla.UITour.ping(o)):document.removeEventListener("mozUITourNotification",n)},Mozilla.UITour.openPreferences=function(e){s("openPreferences",{pane:e})},Mozilla.UITour.closeTab=function(){s("closeTab")}}(),function(){"use strict";var a,e,o;if(function t(){return"querySelectorAll"in document&&"addEventListener"in window}()&&Mozilla.Client.isFirefoxDesktop){if(a=document.getElementById("strings"),e=document.querySelectorAll(".privacy-body > section"),o=e[0].querySelector("section > *:last-child"),Mozilla.UITour===undefined)return;Mozilla.UITour.ping(function(){!function i(e){var o=document.createElement("div"),t=document.createElement("p"),n=document.createElement("button");o.setAttribute("class","data-choices"),t.textContent=a.dataset.choicesCopy,n.textContent=a.dataset.choicesButton,n.setAttribute("id","choose"),n.setAttribute("type","button"),n.className="mzp-c-button mzp-t-primary mzp-t-download mzp-t-small",o.appendChild(t),o.appendChild(n),e.appendChild(o),$("#choose").on("click",function(){Mozilla.UITour!==undefined&&Mozilla.UITour.openPreferences("privacy-reports")})}(o)})}}();